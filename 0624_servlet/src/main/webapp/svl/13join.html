<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>13join.html</title>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
		<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
	</head>
	<body>
		<script type="text/javascript">
		$(document).ready(function() {
			$("#btn1").click(function() {
				//validation check (유효성 체크 ex)아이디를 입력하세요.)
				//mid
				if( $.trim( $("#mid").val() ) == "" ){
					alert("아이디를 입력하세요.");
					return;
				}
				//mpwd
				if( $.trim( $("#mpwd").val() ) == "" ){
					alert("패스워드를 입력하세요.");
					return;
				}
				//tel1~3
				if( $.trim( $("#tel1").val() ) == "" 
						|| $.trim( $("#tel2").val() ) == "" 
						|| $.trim( $("#tel3").val() ) == "" ){
					alert("전화번호를 입력하세요.");
					return;
				}
				//email1~2
				if( $.trim( $("#email1").val() ) == "" 
						|| $.trim( $("#email2").val() ) == "" ){
					alert("이메일을 입력하세요.");
					return;
				}	
				$("#form1").attr("method", "post");
				$("#form1").attr("action", "http://localhost:8080/0624_servlet/Join13");
				$("#form1").submit();
			});//click
		});//ready
		</script>
		<script type="text/javascript">
		$(document).ready(function() {
			$("#mid").keyup(function() {
				$("#mid").val(
						$("#mid").val().replace( /[^ a-z A-Z 0-9 \.]/g  ,"") //정규식 - 알파벳, 숫자만 허용
				)
			});//keyup
			$("#mpwd").keyup(function() {
					$("#mpwd").val(
							$("#mpwd").val().replace( /[^ a-z A-Z 0-9 \.]/g  ,"")
					)
			});//keyup
			$("#tel1").keyup(function() {
					$("#tel1").val(
							$("#tel1").val().replace( /[^ 0-9 \.]/g  ,"")
					)
			});//keyup
			$("#tel2").keyup(function() {
					$("#tel2").val(
							$("#tel2").val().replace( /[^ 0-9 \.]/g  ,"")
					)
			});//keyup
			$("#tel3").keyup(function() {
					$("#tel3").val(
							$("#tel3").val().replace( /[^ 0-9 \.]/g  ,"")
					)
			});//keyup
			$("#email1").keyup(function() {
					$("#email1").val(
							$("#email1").val().replace( /[^ a-z A-Z 0-9 \.]/g  ,"")
					)
			});//keyup
			$("#email2").keyup(function() {
					$("#email2").val(
							$("#email2").val().replace( /[^ a-z A-Z 0-9 . \.]/g  ,"")
					)
			});//keyup
		});//ready
		</script>
		<script type="text/javascript">
		  function maxLengthCheck(object){
		  	  if (object.value.length > object.maxLength){
		      object.value = object.value.slice(0, object.maxLength);
		    }    
		  }
		</script>
		<div class="container">
			<header class="jumbotron">
				<h3>coding exercise</h3>
			</header> <!-- end of header -->
			<nav class="btn-group">
				<a href="./13join.html">
					<button class="btn btn-primary"> 회 원 가 입 </button></a>
				<a href="http://localhost:8080/0624_servlet/SelectEmp11">
					<button class="btn btn-primary"> 사 원 조 회 </button></a>
			</nav> <!-- end of nav -->
			<main class="mt-3">
				<h1> 회 원 가 입 </h1>
				<form id="form1">
					<div class="form-group">
						<label for="mid"> 아 이 디 </label>
						<input type="text" class="form-control" id="mid" name="mid">
					</div>
					<div class="form-group">
						<label for="mpwd"> 패 스 워 드 </label>
						<input type="password" class="form-control" id="mpwd" name="mpwd">
					</div>
					
					<div class="form-inline mt-3">
						<label for="tel1"> 전 화 번 호  </label>
						<input type="number" class="form-control" id="tel1" name="tel1" maxlength="3" oninput="maxLengthCheck(this)"/>
						- <input type="number" class="form-control" id="tel2" name="tel2" maxlength="4" oninput="maxLengthCheck(this)"/>
						- <input type="number" class="form-control" id="tel3" name="tel3" maxlength="4" oninput="maxLengthCheck(this)"/>
						<!-- 전화번호 각 칸에 3,4,4자리만 입력되게 하고 싶음 -> but, number 속성은 maxlength 적용x (text는 됨) 
						     -> so, oninput js함수 이용해야 함. 참고:https://sd23w.tistory.com/291 -->
					</div>
					
					<div class="form-inline mt-3">
						<label for="email1"> 이 메 일 </label>
						<input type="email" class="form-control" id="email1" name="email1">
						@ <input type="email" class="form-control" id="email2" name="email2">
					</div>
					
					<button type="button" id="btn1" class="btn btn-primary mt-3"> 
					회 원 가 입 
					</button>
				</form> <!-- end of form -->
			</main> <!-- end of main -->
			<footer class="jumbotron mt-3"></footer>
		</div>
	</body>
</html>